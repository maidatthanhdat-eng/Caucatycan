<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Câu Cá Tỷ Cân</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
  }
  #game {
    width: 2000px;
    height: 1000px;
    position: relative;
    background: url('background.jpg') repeat;
  }
  #player {
    width: 50px;
    height: 50px;
    position: absolute;
    left: 100px;
    top: 100px;
    background: url('santachuoibi.jpg') center/cover no-repeat;
  }
</style>
</head>
<body>
<div id="game">
  <div id="player"></div>
</div>

<script>
const player = document.getElementById('player');
const game = document.getElementById('game');

let pos = { x: 100, y: 100 };
const speed = 5;
let keys = { w: false, a: false, s: false, d: false };

// Lắng nghe phím
document.addEventListener('keydown', e => {
  const key = e.key.toLowerCase();
  if(['w','a','s','d'].includes(key)) keys[key] = true;
});
document.addEventListener('keyup', e => {
  const key = e.key.toLowerCase();
  if(['w','a','s','d'].includes(key)) keys[key] = false;
});

// Hàm cập nhật
function update() {
  // Di chuyển nhân vật
  if(keys.w) pos.y -= speed;
  if(keys.s) pos.y += speed;
  if(keys.a) pos.x -= speed;
  if(keys.d) pos.x += speed;

  // Giới hạn
  pos.x = Math.max(0, Math.min(pos.x, game.offsetWidth - player.offsetWidth));
  pos.y = Math.max(0, Math.min(pos.y, game.offsetHeight - player.offsetHeight));

  // Cập nhật vị trí
  player.style.transform = `translate(${pos.x}px, ${pos.y}px)`;

  // Camera theo nhân vật
  window.scrollTo(
    pos.x - window.innerWidth/2 + player.offsetWidth/2,
    pos.y - window.innerHeight/2 + player.offsetHeight/2
  );

  requestAnimationFrame(update);
}

// Bắt đầu
update();
</script>
</body>
</html>
